---
import LoadingSpinner from '../../components/elements/LoadingSpinner'

import type { Frontmatter } from '../../types'
import Item from './Item.astro'

type Props = {
  posts: Frontmatter[]
}
const { posts } = Astro.props
---

{
  !posts ? (
    <div class="postList__loading">
      <LoadingSpinner />
    </div>
  ) : (
    <ul class="postList">
      {posts.map((post) => (
        <li class="postList__item">
          {post.media !== 'owned' ? (
            <a href={post.link} target="_blank" rel="noreferrer">
              <Item post={post} />
            </a>
          ) : (
            <a href={`/${post.link}`}>
              <Item post={post} />
            </a>
          )}
        </li>
      ))}
    </ul>
  )
}

<style lang="scss">
  @use '../../styles/utils' as utils;
  @use '../../styles/variables' as vars;
  .postList {
    display: flex;
    flex-direction: column;
    gap: 20px;
    @include utils.slideIn();
  }
</style>
