---
import '@/styles/_tocBody.scss'
import SideBarHeading from '@/components/layouts/SideBarHeading.astro'
---

<nav class="tocPc">
  <SideBarHeading text="ToC">
    <picture>
      <source
        media="(prefers-color-scheme: dark)"
        srcset="/img/toc-white.png"
        width="20"
        height="20"
      />
      <img src="/img/toc-black.png" width="20" height="20" alt="" />
    </picture>
  </SideBarHeading>
  <div class="tocPc__body" data-selector="js-toc-body-pc"></div>
</nav>
<script>
  import tocbot from 'tocbot'
  import { POST_DETAIL_CONTENT_SELECTOR } from '@/config'
  tocbot.init({
    tocSelector: '[data-selector=js-toc-body-pc]',
    contentSelector: `[data-selector=${POST_DETAIL_CONTENT_SELECTOR}]`,
    headingSelector: 'h1, h2, h3',
  })
</script>

<style lang="scss">
  @use '@/styles/utils' as utils;
  @use '@/styles/variables' as vars;

  .tocPc {
    padding: 20px;
    max-height: 80%;
    overflow-y: auto;
    @extend %card-content;

    &__body {
      margin-top: 20px;
    }
  }
</style>
